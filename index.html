<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏">
<style>
/* ==== –°—Ç–∏–ª–∏ —Ç–µ–º—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—É–∫–æ—Ä–æ—á–µ–Ω–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞) ==== */
:root{
  --bg:#0f1115; --fg:#e9eef5; --card:#171b25; --stroke:rgba(255,255,255,.1);
  --primary:#6aa7ff; --good:#41d27a; --accent:#ff7ad9;
}
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,sans-serif;color:var(--fg);background:var(--bg);}
.screen{display:none}.screen.active{display:block}
.header{display:flex;align-items:center;gap:8px;margin-bottom:10px}
.spacer{flex:1}
.iconbtn{border:1px solid var(--stroke);background:var(--card);color:var(--fg);border-radius:8px;padding:6px;cursor:pointer}
.btn{display:block;width:100%;margin:6px 0;padding:12px 14px;border:1px solid var(--stroke);border-radius:12px;font-size:16px;text-align:center;cursor:pointer}
.card{background:var(--card);border:1px solid var(--stroke);border-radius:14px;padding:12px}
.ex{border:1px dashed var(--stroke);border-radius:12px;padding:10px;margin-bottom:8px}
.ex h3{margin:0 0 6px;display:flex;align-items:center;justify-content:space-between}
.extra{color:#ff7a7a;font-size:13px;margin:2px 0 6px}
.sets{display:flex;gap:6px}
.sets label{display:flex;align-items:center;gap:4px;font-size:14px}
/* ==== –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ ==== */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:2000}
.modal-content{background:#fff;padding:10px;border-radius:10px;max-width:90%;max-height:90%;position:relative}
.modal-content img{max-width:100%;max-height:80vh;display:block}
.modal-content button{position:absolute;top:6px;right:6px;border:none;background:#000;color:#fff;border-radius:50%;width:28px;height:28px;font-size:18px;cursor:pointer}
</style>
</head>
<body>
<div class="container">
  <section id="home" class="screen active">
    <div class="header">
      <h1>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h1>
      <span class="spacer"></span>
      <button id="btnTheme" class="iconbtn">üåì</button>
      <button id="btnHistory" class="iconbtn">üìà</button>
    </div>
    <button id="btnPavel" class="btn">–ü–∞–≤–µ–ª</button>
    <button id="btnYulia" class="btn">–Æ–ª–∏—è</button>
  </section>

  <section id="person" class="screen">
    <div class="header">
      <button id="backHome" class="iconbtn">‚Äπ</button>
      <h2 id="personTitle">–Æ–ª–∏—è</h2>
    </div>
    <button id="day1" class="btn">–î–µ–Ω—å 1</button>
    <button id="day2" class="btn">–î–µ–Ω—å 2</button>
    <button id="day3" class="btn">–î–µ–Ω—å 3</button>
  </section>

  <section id="day" class="screen">
    <div class="header">
      <button id="backPerson" class="iconbtn">‚Äπ</button>
      <h2 id="dayTitle">–î–µ–Ω—å</h2>
      <span class="spacer"></span>
      <button id="btnResetDay" class="iconbtn">‚ôªÔ∏è</button>
      <button id="btnFinish" class="iconbtn">‚úÖ</button>
    </div>
    <div class="card" id="pageCard">
      <div id="dayLabel" class="label"></div>
      <div id="pages"></div>
    </div>
  </section>
</div>

<script>
/* ==== –ü—Ä–æ–≥—Ä–∞–º–º–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π (—Å –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞) ==== */
const programs = {
  "yulia": {
    1: [
      { "ex":[
        {"title":"–ñ–∏–º –Ω–æ–≥–∞–º–∏", "sets":"4", "reps":"15‚Äì20", "group":"–ö–≤–∞–¥—Ä–∏—Ü–µ–ø—Å—ã", "img":"img/legpress.jpg"},
        {"title":"–†–∞–∑–≤–µ–¥–µ–Ω–∏—è –±—ë–¥–µ—Ä", "sets":"4", "reps":"15‚Äì20", "group":"–Ø–≥–æ–¥–∏—á–Ω—ã–µ"}
      ]},
      { "ex":[
        {"title":"–°—Ç–∞–Ω–æ–≤–∞—è —Ç—è–≥–∞ ¬´—Å—É–º–æ¬ª", "sets":"4", "reps":"12‚Äì20", "group":"–ù–æ–≥–∏", "img":"img/sumo.jpg"},
        {"title":"–ù–∞–∫–ª–æ–Ω—ã —Å –ø–æ–¥—Å–µ–¥–æ–º", "sets":"4", "reps":"25/25", "group":"–ù–æ–≥–∏"}
      ]}
    ]
  },
  "pavel": {
    1:[{"ex":[{"title":"(–ø—É—Å—Ç–æ)","sets":"‚Äî","reps":"‚Äî","group":"‚Äî"}]}],
    2:[{"ex":[{"title":"(–ø—É—Å—Ç–æ)","sets":"‚Äî","reps":"‚Äî","group":"‚Äî"}]}],
    3:[{"ex":[{"title":"(–ø—É—Å—Ç–æ)","sets":"‚Äî","reps":"‚Äî","group":"‚Äî"}]}]
  }
};

let currentPerson="yulia",currentDay=1;

function show(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');}
document.getElementById('btnYulia').onclick=()=>{currentPerson="yulia";show('person');};
document.getElementById('btnPavel').onclick=()=>{currentPerson="pavel";show('person');};
document.getElementById('day1').onclick=()=>openDay(1);
document.getElementById('day2').onclick=()=>openDay(2);
document.getElementById('day3').onclick=()=>openDay(3);
document.getElementById('backHome').onclick=()=>show('home');
document.getElementById('backPerson').onclick=()=>show('person');

function openDay(d){currentDay=d;renderPage();show('day');}

function renderPage(){
  const pagesEl=document.getElementById('pages');pagesEl.innerHTML='';
  const data=programs[currentPerson][currentDay]||[];
  data.forEach((page)=>{
    page.ex.forEach(it=>{
      const imgBtn=it.img?`<button class="iconbtn" onclick="showImage('${it.img}')">üñºÔ∏è</button>`:'';
      const div=document.createElement('div');div.className='ex';
      div.innerHTML=`<h3>${it.title} ${imgBtn}</h3>
      <div class="meta">–ü–æ–¥—Ö–æ–¥—ã: ${it.sets} ¬∑ –ü–æ–≤—Ç–æ—Ä—ã: ${it.reps||'-'} ¬∑ –ì—Ä—É–ø–ø–∞: ${it.group||'-'}</div>
      ${it.extra?`<div class="extra">${it.extra}</div>`:''}`;
      pagesEl.appendChild(div);
    });
  });
}

function showImage(src){
  const modal=document.createElement('div');
  modal.className='modal';
  modal.innerHTML=`<div class="modal-content">
    <button onclick="this.closest('.modal').remove()">‚úñÔ∏è</button>
    <img src="${src}" alt="">
  </div>`;
  modal.onclick=e=>{if(e.target===modal)modal.remove();}
  document.body.appendChild(modal);
}
</script>

<!-- —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä -->
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('./sw.js').catch(console.error);
  });
}
</script>
</body>
</html>
